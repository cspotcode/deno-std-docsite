<!DOCTYPE html><html class="default" lang="en"><head><style>body { visibility: hidden; }</style><meta charset="utf-8"><meta http-equiv="x-ua-compatible" content="IE=edge"><title>testing/bdd | Documentation</title><meta name="description" content="Documentation for Documentation"><meta name="viewport" content="width=device-width, initial-scale=1"><link rel="stylesheet" href="../assets/style.css"><link rel="stylesheet" href="../assets/highlight.css"><script defer="" src="../assets/main.js"></script><script async="" src="../assets/icons.js" id="tsd-icons-script"></script><link rel="stylesheet" href="../assets/dmt/dmt-components.css"><link rel="stylesheet" href="../assets/dmt/dmt-theme.css"><script src="../assets/dmt/dmt-components.js" type="module"></script><noscript><style>body { visibility: visible; }</style></noscript></head><body><script>document.documentElement.dataset.theme = localStorage.getItem("tsd-theme") || "os";</script><div class="overlay"></div>
<main><header class="tsd-page-toolbar"><div class="tsd-toolbar-contents container"><div class="table-cell" id="tsd-search" data-base=".."><div class="field" id="dmt-search-main"></div><div class="field" id="dmt-toolbar"><a href="../index.html" class="title">Documentation</a></div></div><div class="table-cell" id="tsd-widgets"><a href="#" class="tsd-widget tsd-toolbar-icon menu no-caption" data-toggle="menu" aria-label="Menu"><svg width="16" height="16" viewBox="0 0 16 16" fill="none"><use href="../assets/icons.svg#icon-menu"></use></svg></a></div></div></header><div class="container container-main" tabindex="-1"><div class="col-content"><div class="tsd-page-title"><ul class="tsd-breadcrumb"></ul><div class="dmt-title-header-flex"><h1>Module testing/bdd</h1></div></div><section class="tsd-panel tsd-comment"><div class="tsd-comment tsd-typography"><p>A <a href="https://en.wikipedia.org/wiki/Behavior-driven_development">BDD</a> interface
to <code>Deno.test()</code> API.</p>
<p>With <code>@std/testing/bdd</code> module you can write your tests in a familiar format for
grouping tests and adding setup/teardown hooks used by other JavaScript testing
frameworks like Jasmine, Jest, and Mocha.</p>
<p>The <code>describe</code> function creates a block that groups together several related
tests. The <code>it</code> function registers an individual test case.</p>
<a id="md:hooks" class="tsd-anchor"></a><h2 class="tsd-anchor-link">Hooks<a href="#md:hooks" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h2><p>There are 4 types of hooks available for test suites. A test suite can have
multiples of each type of hook, they will be called in the order that they are
registered. The <code>afterEach</code> and <code>afterAll</code> hooks will be called whether or not
the test case passes. The *All hooks will be called once for the whole group
while the *Each hooks will be called for each individual test case.</p>
<ul>
<li><code>beforeAll</code>: Runs before all of the tests in the group.</li>
<li><code>afterAll</code>: Runs after all of the tests in the group finish.</li>
<li><code>beforeEach</code>: Runs before each of the individual test cases in the group.</li>
<li><code>afterEach</code>: Runs after each of the individual test cases in the group.</li>
</ul>
<p>If a hook is registered at the top level, a global test suite will be registered
and all tests will belong to it. Hooks registered at the top level must be
registered before any individual test cases or test suites.</p>
<a id="md:focusing-tests" class="tsd-anchor"></a><h2 class="tsd-anchor-link">Focusing tests<a href="#md:focusing-tests" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h2><p>If you would like to run only specific test cases, you can do so by calling
<code>it.only</code> instead of <code>it</code>. If you would like to run only specific test suites,
you can do so by calling <code>describe.only</code> instead of <code>describe</code>.</p>
<p>There is one limitation to this when using the flat test grouping style. When
<code>describe</code> is called without being nested, it registers the test with
<code>Deno.test</code>. If a child test case or suite is registered with <code>it.only</code> or
<code>describe.only</code>, it will be scoped to the top test suite instead of the file. To
make them the only tests that run in the file, you would need to register the
top test suite with <code>describe.only</code> too.</p>
<a id="md:ignoring-tests" class="tsd-anchor"></a><h2 class="tsd-anchor-link">Ignoring tests<a href="#md:ignoring-tests" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h2><p>If you would like to not run specific individual test cases, you can do so by
calling <code>it.ignore</code> instead of <code>it</code>. If you would like to not run specific test
suites, you can do so by calling <code>describe.ignore</code> instead of <code>describe</code>.</p>
<a id="md:sanitization-options" class="tsd-anchor"></a><h2 class="tsd-anchor-link">Sanitization options<a href="#md:sanitization-options" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h2><p>Like <code>Deno.TestDefinition</code>, the <code>DescribeDefinition</code> and <code>ItDefinition</code> have
sanitization options. They work in the same way.</p>
<ul>
<li><code>sanitizeExit</code>: Ensure the test case does not prematurely cause the process to
exit, for example via a call to Deno.exit. Defaults to true.</li>
<li><code>sanitizeOps</code>: Check that the number of async completed ops after the test is
the same as number of dispatched ops. Defaults to true.</li>
<li><code>sanitizeResources</code>: Ensure the test case does not "leak" resources - ie. the
resource table after the test has exactly the same contents as before the
test. Defaults to true.</li>
</ul>
<a id="md:permissions-option" class="tsd-anchor"></a><h2 class="tsd-anchor-link">Permissions option<a href="#md:permissions-option" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h2><p>Like <code>Deno.TestDefinition</code>, the <code>DescribeDefinition</code> and <code>ItDefinition</code> have a
<code>permissions</code> option. They specify the permissions that should be used to run an
individual test case or test suite. Set this to <code>"inherit"</code> to keep the calling
thread's permissions. Set this to <code>"none"</code> to revoke all permissions.</p>
<p>This setting defaults to <code>"inherit"</code>.</p>
<p>There is currently one limitation to this, you cannot use the permissions option
on an individual test case or test suite that belongs to another test suite.
That's because internally those tests are registered with <code>t.step</code> which does
not support the permissions option.</p>
<a id="md:comparing-to-denotest" class="tsd-anchor"></a><h2 class="tsd-anchor-link">Comparing to Deno.test<a href="#md:comparing-to-denotest" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h2><p>The default way of writing tests is using <code>Deno.test</code> and <code>t.step</code>. The
<code>describe</code> and <code>it</code> functions have similar call signatures to <code>Deno.test</code>,
making it easy to switch between the default style and the behavior-driven
development style of writing tests. Internally, <code>describe</code> and <code>it</code> are
registering tests with <code>Deno.test</code> and <code>t.step</code>.</p>
<p>Below is an example of a test file using <code>Deno.test</code> and <code>t.step</code>. In the
following sections there are examples of how the same test could be written with
<code>describe</code> and <code>it</code> using nested test grouping, flat test grouping, or a mix of
both styles.</p>
<pre><code class="ts"><span class="hl-7">import</span><span class="hl-2"> {</span><br><span class="hl-2">  </span><span class="hl-8">assertEquals</span><span class="hl-2">,</span><br><span class="hl-2">  </span><span class="hl-8">assertStrictEquals</span><span class="hl-2">,</span><br><span class="hl-2">  </span><span class="hl-8">assertThrows</span><span class="hl-2">,</span><br><span class="hl-2">} </span><span class="hl-7">from</span><span class="hl-2"> </span><span class="hl-6">"@std/assert"</span><span class="hl-2">;</span><br><br><span class="hl-11">class</span><span class="hl-2"> </span><span class="hl-12">User</span><span class="hl-2"> {</span><br><span class="hl-2">  </span><span class="hl-11">static</span><span class="hl-2"> </span><span class="hl-8">users</span><span class="hl-2">: </span><span class="hl-12">Map</span><span class="hl-2">&lt;</span><span class="hl-12">string</span><span class="hl-2">, </span><span class="hl-12">User</span><span class="hl-2">&gt; = </span><span class="hl-11">new</span><span class="hl-2"> </span><span class="hl-9">Map</span><span class="hl-2">();</span><br><span class="hl-2">  </span><span class="hl-8">name</span><span class="hl-2">: </span><span class="hl-12">string</span><span class="hl-2">;</span><br><span class="hl-2">  </span><span class="hl-8">age</span><span class="hl-2">?: </span><span class="hl-12">number</span><span class="hl-2">;</span><br><br><span class="hl-2">  </span><span class="hl-11">constructor</span><span class="hl-2">(</span><span class="hl-8">name</span><span class="hl-2">: </span><span class="hl-12">string</span><span class="hl-2">) {</span><br><span class="hl-2">    </span><span class="hl-7">if</span><span class="hl-2"> (</span><span class="hl-8">User</span><span class="hl-2">.</span><span class="hl-8">users</span><span class="hl-2">.</span><span class="hl-9">has</span><span class="hl-2">(</span><span class="hl-8">name</span><span class="hl-2">)) {</span><br><span class="hl-2">      </span><span class="hl-7">throw</span><span class="hl-2"> </span><span class="hl-11">new</span><span class="hl-2"> </span><span class="hl-8">Deno</span><span class="hl-2">.</span><span class="hl-8">errors</span><span class="hl-2">.</span><span class="hl-9">AlreadyExists</span><span class="hl-2">(</span><span class="hl-6">`User </span><span class="hl-11">${</span><span class="hl-8">name</span><span class="hl-11">}</span><span class="hl-6"> already exists`</span><span class="hl-2">);</span><br><span class="hl-2">    }</span><br><span class="hl-2">    </span><span class="hl-11">this</span><span class="hl-2">.</span><span class="hl-8">name</span><span class="hl-2"> = </span><span class="hl-8">name</span><span class="hl-2">;</span><br><span class="hl-2">    </span><span class="hl-8">User</span><span class="hl-2">.</span><span class="hl-8">users</span><span class="hl-2">.</span><span class="hl-9">set</span><span class="hl-2">(</span><span class="hl-8">name</span><span class="hl-2">, </span><span class="hl-11">this</span><span class="hl-2">);</span><br><span class="hl-2">  }</span><br><br><span class="hl-2">  </span><span class="hl-9">getAge</span><span class="hl-2">(): </span><span class="hl-12">number</span><span class="hl-2"> {</span><br><span class="hl-2">    </span><span class="hl-7">if</span><span class="hl-2"> (!</span><span class="hl-11">this</span><span class="hl-2">.</span><span class="hl-8">age</span><span class="hl-2">) {</span><br><span class="hl-2">      </span><span class="hl-7">throw</span><span class="hl-2"> </span><span class="hl-11">new</span><span class="hl-2"> </span><span class="hl-9">Error</span><span class="hl-2">(</span><span class="hl-6">"Age unknown"</span><span class="hl-2">);</span><br><span class="hl-2">    }</span><br><span class="hl-2">    </span><span class="hl-7">return</span><span class="hl-2"> </span><span class="hl-11">this</span><span class="hl-2">.</span><span class="hl-8">age</span><span class="hl-2">;</span><br><span class="hl-2">  }</span><br><br><span class="hl-2">  </span><span class="hl-9">setAge</span><span class="hl-2">(</span><span class="hl-8">age</span><span class="hl-2">: </span><span class="hl-12">number</span><span class="hl-2">) {</span><br><span class="hl-2">    </span><span class="hl-11">this</span><span class="hl-2">.</span><span class="hl-8">age</span><span class="hl-2"> = </span><span class="hl-8">age</span><span class="hl-2">;</span><br><span class="hl-2">  }</span><br><span class="hl-2">}</span><br><br><span class="hl-8">Deno</span><span class="hl-2">.</span><span class="hl-9">test</span><span class="hl-2">(</span><span class="hl-6">"User.users initially empty"</span><span class="hl-2">, () </span><span class="hl-11">=&gt;</span><span class="hl-2"> {</span><br><span class="hl-2">  </span><span class="hl-9">assertEquals</span><span class="hl-2">(</span><span class="hl-8">User</span><span class="hl-2">.</span><span class="hl-8">users</span><span class="hl-2">.</span><span class="hl-8">size</span><span class="hl-2">, </span><span class="hl-13">0</span><span class="hl-2">);</span><br><span class="hl-2">});</span><br><br><span class="hl-8">Deno</span><span class="hl-2">.</span><span class="hl-9">test</span><span class="hl-2">(</span><span class="hl-6">"User constructor"</span><span class="hl-2">, () </span><span class="hl-11">=&gt;</span><span class="hl-2"> {</span><br><span class="hl-2">  </span><span class="hl-7">try</span><span class="hl-2"> {</span><br><span class="hl-2">    </span><span class="hl-11">const</span><span class="hl-2"> </span><span class="hl-14">user</span><span class="hl-2"> = </span><span class="hl-11">new</span><span class="hl-2"> </span><span class="hl-9">User</span><span class="hl-2">(</span><span class="hl-6">"Kyle"</span><span class="hl-2">);</span><br><span class="hl-2">    </span><span class="hl-9">assertEquals</span><span class="hl-2">(</span><span class="hl-8">user</span><span class="hl-2">.</span><span class="hl-8">name</span><span class="hl-2">, </span><span class="hl-6">"Kyle"</span><span class="hl-2">);</span><br><span class="hl-2">    </span><span class="hl-9">assertStrictEquals</span><span class="hl-2">(</span><span class="hl-8">User</span><span class="hl-2">.</span><span class="hl-8">users</span><span class="hl-2">.</span><span class="hl-9">get</span><span class="hl-2">(</span><span class="hl-6">"Kyle"</span><span class="hl-2">), </span><span class="hl-8">user</span><span class="hl-2">);</span><br><span class="hl-2">  } </span><span class="hl-7">finally</span><span class="hl-2"> {</span><br><span class="hl-2">    </span><span class="hl-8">User</span><span class="hl-2">.</span><span class="hl-8">users</span><span class="hl-2">.</span><span class="hl-9">clear</span><span class="hl-2">();</span><br><span class="hl-2">  }</span><br><span class="hl-2">});</span><br><br><span class="hl-8">Deno</span><span class="hl-2">.</span><span class="hl-9">test</span><span class="hl-2">(</span><span class="hl-6">"User age"</span><span class="hl-2">, </span><span class="hl-11">async</span><span class="hl-2"> (</span><span class="hl-8">t</span><span class="hl-2">) </span><span class="hl-11">=&gt;</span><span class="hl-2"> {</span><br><span class="hl-2">  </span><span class="hl-11">const</span><span class="hl-2"> </span><span class="hl-14">user</span><span class="hl-2"> = </span><span class="hl-11">new</span><span class="hl-2"> </span><span class="hl-9">User</span><span class="hl-2">(</span><span class="hl-6">"Kyle"</span><span class="hl-2">);</span><br><br><span class="hl-2">  </span><span class="hl-7">await</span><span class="hl-2"> </span><span class="hl-8">t</span><span class="hl-2">.</span><span class="hl-9">step</span><span class="hl-2">(</span><span class="hl-6">"getAge"</span><span class="hl-2">, () </span><span class="hl-11">=&gt;</span><span class="hl-2"> {</span><br><span class="hl-2">    </span><span class="hl-9">assertThrows</span><span class="hl-2">(() </span><span class="hl-11">=&gt;</span><span class="hl-2"> </span><span class="hl-8">user</span><span class="hl-2">.</span><span class="hl-9">getAge</span><span class="hl-2">(), </span><span class="hl-8">Error</span><span class="hl-2">, </span><span class="hl-6">"Age unknown"</span><span class="hl-2">);</span><br><span class="hl-2">    </span><span class="hl-8">user</span><span class="hl-2">.</span><span class="hl-8">age</span><span class="hl-2"> = </span><span class="hl-13">18</span><span class="hl-2">;</span><br><span class="hl-2">    </span><span class="hl-9">assertEquals</span><span class="hl-2">(</span><span class="hl-8">user</span><span class="hl-2">.</span><span class="hl-9">getAge</span><span class="hl-2">(), </span><span class="hl-13">18</span><span class="hl-2">);</span><br><span class="hl-2">  });</span><br><br><span class="hl-2">  </span><span class="hl-7">await</span><span class="hl-2"> </span><span class="hl-8">t</span><span class="hl-2">.</span><span class="hl-9">step</span><span class="hl-2">(</span><span class="hl-6">"setAge"</span><span class="hl-2">, () </span><span class="hl-11">=&gt;</span><span class="hl-2"> {</span><br><span class="hl-2">    </span><span class="hl-8">user</span><span class="hl-2">.</span><span class="hl-9">setAge</span><span class="hl-2">(</span><span class="hl-13">18</span><span class="hl-2">);</span><br><span class="hl-2">    </span><span class="hl-9">assertEquals</span><span class="hl-2">(</span><span class="hl-8">user</span><span class="hl-2">.</span><span class="hl-9">getAge</span><span class="hl-2">(), </span><span class="hl-13">18</span><span class="hl-2">);</span><br><span class="hl-2">  });</span><br><span class="hl-2">});</span>
</code><button type="button">Copy</button></pre>

<a id="md:nested-test-grouping" class="tsd-anchor"></a><h3 class="tsd-anchor-link">Nested test grouping<a href="#md:nested-test-grouping" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><p>Tests created within the callback of a <code>describe</code> function call will belong to
the new test suite it creates. The hooks can be created within it or be added to
the options argument for describe.</p>
<pre><code class="ts"><span class="hl-7">import</span><span class="hl-2"> {</span><br><span class="hl-2">  </span><span class="hl-8">assertEquals</span><span class="hl-2">,</span><br><span class="hl-2">  </span><span class="hl-8">assertStrictEquals</span><span class="hl-2">,</span><br><span class="hl-2">  </span><span class="hl-8">assertThrows</span><span class="hl-2">,</span><br><span class="hl-2">} </span><span class="hl-7">from</span><span class="hl-2"> </span><span class="hl-6">"@std/assert"</span><span class="hl-2">;</span><br><span class="hl-7">import</span><span class="hl-2"> {</span><br><span class="hl-2">  </span><span class="hl-8">afterEach</span><span class="hl-2">,</span><br><span class="hl-2">  </span><span class="hl-8">beforeEach</span><span class="hl-2">,</span><br><span class="hl-2">  </span><span class="hl-8">describe</span><span class="hl-2">,</span><br><span class="hl-2">  </span><span class="hl-8">it</span><span class="hl-2">,</span><br><span class="hl-2">} </span><span class="hl-7">from</span><span class="hl-2"> </span><span class="hl-6">"@std/testing/bdd"</span><span class="hl-2">;</span><br><br><span class="hl-11">class</span><span class="hl-2"> </span><span class="hl-12">User</span><span class="hl-2"> {</span><br><span class="hl-2">  </span><span class="hl-11">static</span><span class="hl-2"> </span><span class="hl-8">users</span><span class="hl-2">: </span><span class="hl-12">Map</span><span class="hl-2">&lt;</span><span class="hl-12">string</span><span class="hl-2">, </span><span class="hl-12">User</span><span class="hl-2">&gt; = </span><span class="hl-11">new</span><span class="hl-2"> </span><span class="hl-9">Map</span><span class="hl-2">();</span><br><span class="hl-2">  </span><span class="hl-8">name</span><span class="hl-2">: </span><span class="hl-12">string</span><span class="hl-2">;</span><br><span class="hl-2">  </span><span class="hl-8">age</span><span class="hl-2">?: </span><span class="hl-12">number</span><span class="hl-2">;</span><br><br><span class="hl-2">  </span><span class="hl-11">constructor</span><span class="hl-2">(</span><span class="hl-8">name</span><span class="hl-2">: </span><span class="hl-12">string</span><span class="hl-2">) {</span><br><span class="hl-2">    </span><span class="hl-7">if</span><span class="hl-2"> (</span><span class="hl-8">User</span><span class="hl-2">.</span><span class="hl-8">users</span><span class="hl-2">.</span><span class="hl-9">has</span><span class="hl-2">(</span><span class="hl-8">name</span><span class="hl-2">)) {</span><br><span class="hl-2">      </span><span class="hl-7">throw</span><span class="hl-2"> </span><span class="hl-11">new</span><span class="hl-2"> </span><span class="hl-8">Deno</span><span class="hl-2">.</span><span class="hl-8">errors</span><span class="hl-2">.</span><span class="hl-9">AlreadyExists</span><span class="hl-2">(</span><span class="hl-6">`User </span><span class="hl-11">${</span><span class="hl-8">name</span><span class="hl-11">}</span><span class="hl-6"> already exists`</span><span class="hl-2">);</span><br><span class="hl-2">    }</span><br><span class="hl-2">    </span><span class="hl-11">this</span><span class="hl-2">.</span><span class="hl-8">name</span><span class="hl-2"> = </span><span class="hl-8">name</span><span class="hl-2">;</span><br><span class="hl-2">    </span><span class="hl-8">User</span><span class="hl-2">.</span><span class="hl-8">users</span><span class="hl-2">.</span><span class="hl-9">set</span><span class="hl-2">(</span><span class="hl-8">name</span><span class="hl-2">, </span><span class="hl-11">this</span><span class="hl-2">);</span><br><span class="hl-2">  }</span><br><br><span class="hl-2">  </span><span class="hl-9">getAge</span><span class="hl-2">(): </span><span class="hl-12">number</span><span class="hl-2"> {</span><br><span class="hl-2">    </span><span class="hl-7">if</span><span class="hl-2"> (!</span><span class="hl-11">this</span><span class="hl-2">.</span><span class="hl-8">age</span><span class="hl-2">) {</span><br><span class="hl-2">      </span><span class="hl-7">throw</span><span class="hl-2"> </span><span class="hl-11">new</span><span class="hl-2"> </span><span class="hl-9">Error</span><span class="hl-2">(</span><span class="hl-6">"Age unknown"</span><span class="hl-2">);</span><br><span class="hl-2">    }</span><br><span class="hl-2">    </span><span class="hl-7">return</span><span class="hl-2"> </span><span class="hl-11">this</span><span class="hl-2">.</span><span class="hl-8">age</span><span class="hl-2">;</span><br><span class="hl-2">  }</span><br><br><span class="hl-2">  </span><span class="hl-9">setAge</span><span class="hl-2">(</span><span class="hl-8">age</span><span class="hl-2">: </span><span class="hl-12">number</span><span class="hl-2">) {</span><br><span class="hl-2">    </span><span class="hl-11">this</span><span class="hl-2">.</span><span class="hl-8">age</span><span class="hl-2"> = </span><span class="hl-8">age</span><span class="hl-2">;</span><br><span class="hl-2">  }</span><br><span class="hl-2">}</span><br><br><span class="hl-9">describe</span><span class="hl-2">(</span><span class="hl-6">"User"</span><span class="hl-2">, () </span><span class="hl-11">=&gt;</span><span class="hl-2"> {</span><br><span class="hl-2">  </span><span class="hl-9">it</span><span class="hl-2">(</span><span class="hl-6">"users initially empty"</span><span class="hl-2">, () </span><span class="hl-11">=&gt;</span><span class="hl-2"> {</span><br><span class="hl-2">    </span><span class="hl-9">assertEquals</span><span class="hl-2">(</span><span class="hl-8">User</span><span class="hl-2">.</span><span class="hl-8">users</span><span class="hl-2">.</span><span class="hl-8">size</span><span class="hl-2">, </span><span class="hl-13">0</span><span class="hl-2">);</span><br><span class="hl-2">  });</span><br><br><span class="hl-2">  </span><span class="hl-9">it</span><span class="hl-2">(</span><span class="hl-6">"constructor"</span><span class="hl-2">, () </span><span class="hl-11">=&gt;</span><span class="hl-2"> {</span><br><span class="hl-2">    </span><span class="hl-7">try</span><span class="hl-2"> {</span><br><span class="hl-2">      </span><span class="hl-11">const</span><span class="hl-2"> </span><span class="hl-14">user</span><span class="hl-2"> = </span><span class="hl-11">new</span><span class="hl-2"> </span><span class="hl-9">User</span><span class="hl-2">(</span><span class="hl-6">"Kyle"</span><span class="hl-2">);</span><br><span class="hl-2">      </span><span class="hl-9">assertEquals</span><span class="hl-2">(</span><span class="hl-8">user</span><span class="hl-2">.</span><span class="hl-8">name</span><span class="hl-2">, </span><span class="hl-6">"Kyle"</span><span class="hl-2">);</span><br><span class="hl-2">      </span><span class="hl-9">assertStrictEquals</span><span class="hl-2">(</span><span class="hl-8">User</span><span class="hl-2">.</span><span class="hl-8">users</span><span class="hl-2">.</span><span class="hl-9">get</span><span class="hl-2">(</span><span class="hl-6">"Kyle"</span><span class="hl-2">), </span><span class="hl-8">user</span><span class="hl-2">);</span><br><span class="hl-2">    } </span><span class="hl-7">finally</span><span class="hl-2"> {</span><br><span class="hl-2">      </span><span class="hl-8">User</span><span class="hl-2">.</span><span class="hl-8">users</span><span class="hl-2">.</span><span class="hl-9">clear</span><span class="hl-2">();</span><br><span class="hl-2">    }</span><br><span class="hl-2">  });</span><br><br><span class="hl-2">  </span><span class="hl-9">describe</span><span class="hl-2">(</span><span class="hl-6">"age"</span><span class="hl-2">, () </span><span class="hl-11">=&gt;</span><span class="hl-2"> {</span><br><span class="hl-2">    </span><span class="hl-11">let</span><span class="hl-2"> </span><span class="hl-8">user</span><span class="hl-2">: </span><span class="hl-12">User</span><span class="hl-2">;</span><br><br><span class="hl-2">    </span><span class="hl-9">beforeEach</span><span class="hl-2">(() </span><span class="hl-11">=&gt;</span><span class="hl-2"> {</span><br><span class="hl-2">      </span><span class="hl-8">user</span><span class="hl-2"> = </span><span class="hl-11">new</span><span class="hl-2"> </span><span class="hl-9">User</span><span class="hl-2">(</span><span class="hl-6">"Kyle"</span><span class="hl-2">);</span><br><span class="hl-2">    });</span><br><br><span class="hl-2">    </span><span class="hl-9">afterEach</span><span class="hl-2">(() </span><span class="hl-11">=&gt;</span><span class="hl-2"> {</span><br><span class="hl-2">      </span><span class="hl-8">User</span><span class="hl-2">.</span><span class="hl-8">users</span><span class="hl-2">.</span><span class="hl-9">clear</span><span class="hl-2">();</span><br><span class="hl-2">    });</span><br><br><span class="hl-2">    </span><span class="hl-9">it</span><span class="hl-2">(</span><span class="hl-6">"getAge"</span><span class="hl-2">, </span><span class="hl-11">function</span><span class="hl-2"> () {</span><br><span class="hl-2">      </span><span class="hl-9">assertThrows</span><span class="hl-2">(() </span><span class="hl-11">=&gt;</span><span class="hl-2"> </span><span class="hl-8">user</span><span class="hl-2">.</span><span class="hl-9">getAge</span><span class="hl-2">(), </span><span class="hl-8">Error</span><span class="hl-2">, </span><span class="hl-6">"Age unknown"</span><span class="hl-2">);</span><br><span class="hl-2">      </span><span class="hl-8">user</span><span class="hl-2">.</span><span class="hl-8">age</span><span class="hl-2"> = </span><span class="hl-13">18</span><span class="hl-2">;</span><br><span class="hl-2">      </span><span class="hl-9">assertEquals</span><span class="hl-2">(</span><span class="hl-8">user</span><span class="hl-2">.</span><span class="hl-9">getAge</span><span class="hl-2">(), </span><span class="hl-13">18</span><span class="hl-2">);</span><br><span class="hl-2">    });</span><br><br><span class="hl-2">    </span><span class="hl-9">it</span><span class="hl-2">(</span><span class="hl-6">"setAge"</span><span class="hl-2">, </span><span class="hl-11">function</span><span class="hl-2"> () {</span><br><span class="hl-2">      </span><span class="hl-8">user</span><span class="hl-2">.</span><span class="hl-9">setAge</span><span class="hl-2">(</span><span class="hl-13">18</span><span class="hl-2">);</span><br><span class="hl-2">      </span><span class="hl-9">assertEquals</span><span class="hl-2">(</span><span class="hl-8">user</span><span class="hl-2">.</span><span class="hl-9">getAge</span><span class="hl-2">(), </span><span class="hl-13">18</span><span class="hl-2">);</span><br><span class="hl-2">    });</span><br><span class="hl-2">  });</span><br><span class="hl-2">});</span>
</code><button type="button">Copy</button></pre>

<a id="md:flat-test-grouping" class="tsd-anchor"></a><h3 class="tsd-anchor-link">Flat test grouping<a href="#md:flat-test-grouping" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><p>The <code>describe</code> function returns a unique symbol that can be used to reference
the test suite for adding tests to it without having to create them within a
callback. The gives you the ability to have test grouping without any extra
indentation in front of the grouped tests.</p>
<pre><code class="ts"><span class="hl-7">import</span><span class="hl-2"> {</span><br><span class="hl-2">  </span><span class="hl-8">assertEquals</span><span class="hl-2">,</span><br><span class="hl-2">  </span><span class="hl-8">assertStrictEquals</span><span class="hl-2">,</span><br><span class="hl-2">  </span><span class="hl-8">assertThrows</span><span class="hl-2">,</span><br><span class="hl-2">} </span><span class="hl-7">from</span><span class="hl-2"> </span><span class="hl-6">"@std/assert"</span><span class="hl-2">;</span><br><span class="hl-7">import</span><span class="hl-2"> {</span><br><span class="hl-2">  </span><span class="hl-8">describe</span><span class="hl-2">,</span><br><span class="hl-2">  </span><span class="hl-8">it</span><span class="hl-2">,</span><br><span class="hl-2">} </span><span class="hl-7">from</span><span class="hl-2"> </span><span class="hl-6">"@std/testing/bdd"</span><span class="hl-2">;</span><br><br><span class="hl-11">class</span><span class="hl-2"> </span><span class="hl-12">User</span><span class="hl-2"> {</span><br><span class="hl-2">  </span><span class="hl-11">static</span><span class="hl-2"> </span><span class="hl-8">users</span><span class="hl-2">: </span><span class="hl-12">Map</span><span class="hl-2">&lt;</span><span class="hl-12">string</span><span class="hl-2">, </span><span class="hl-12">User</span><span class="hl-2">&gt; = </span><span class="hl-11">new</span><span class="hl-2"> </span><span class="hl-9">Map</span><span class="hl-2">();</span><br><span class="hl-2">  </span><span class="hl-8">name</span><span class="hl-2">: </span><span class="hl-12">string</span><span class="hl-2">;</span><br><span class="hl-2">  </span><span class="hl-8">age</span><span class="hl-2">?: </span><span class="hl-12">number</span><span class="hl-2">;</span><br><br><span class="hl-2">  </span><span class="hl-11">constructor</span><span class="hl-2">(</span><span class="hl-8">name</span><span class="hl-2">: </span><span class="hl-12">string</span><span class="hl-2">) {</span><br><span class="hl-2">    </span><span class="hl-7">if</span><span class="hl-2"> (</span><span class="hl-8">User</span><span class="hl-2">.</span><span class="hl-8">users</span><span class="hl-2">.</span><span class="hl-9">has</span><span class="hl-2">(</span><span class="hl-8">name</span><span class="hl-2">)) {</span><br><span class="hl-2">      </span><span class="hl-7">throw</span><span class="hl-2"> </span><span class="hl-11">new</span><span class="hl-2"> </span><span class="hl-8">Deno</span><span class="hl-2">.</span><span class="hl-8">errors</span><span class="hl-2">.</span><span class="hl-9">AlreadyExists</span><span class="hl-2">(</span><span class="hl-6">`User </span><span class="hl-11">${</span><span class="hl-8">name</span><span class="hl-11">}</span><span class="hl-6"> already exists`</span><span class="hl-2">);</span><br><span class="hl-2">    }</span><br><span class="hl-2">    </span><span class="hl-11">this</span><span class="hl-2">.</span><span class="hl-8">name</span><span class="hl-2"> = </span><span class="hl-8">name</span><span class="hl-2">;</span><br><span class="hl-2">    </span><span class="hl-8">User</span><span class="hl-2">.</span><span class="hl-8">users</span><span class="hl-2">.</span><span class="hl-9">set</span><span class="hl-2">(</span><span class="hl-8">name</span><span class="hl-2">, </span><span class="hl-11">this</span><span class="hl-2">);</span><br><span class="hl-2">  }</span><br><br><span class="hl-2">  </span><span class="hl-9">getAge</span><span class="hl-2">(): </span><span class="hl-12">number</span><span class="hl-2"> {</span><br><span class="hl-2">    </span><span class="hl-7">if</span><span class="hl-2"> (!</span><span class="hl-11">this</span><span class="hl-2">.</span><span class="hl-8">age</span><span class="hl-2">) {</span><br><span class="hl-2">      </span><span class="hl-7">throw</span><span class="hl-2"> </span><span class="hl-11">new</span><span class="hl-2"> </span><span class="hl-9">Error</span><span class="hl-2">(</span><span class="hl-6">"Age unknown"</span><span class="hl-2">);</span><br><span class="hl-2">    }</span><br><span class="hl-2">    </span><span class="hl-7">return</span><span class="hl-2"> </span><span class="hl-11">this</span><span class="hl-2">.</span><span class="hl-8">age</span><span class="hl-2">;</span><br><span class="hl-2">  }</span><br><br><span class="hl-2">  </span><span class="hl-9">setAge</span><span class="hl-2">(</span><span class="hl-8">age</span><span class="hl-2">: </span><span class="hl-12">number</span><span class="hl-2">) {</span><br><span class="hl-2">    </span><span class="hl-11">this</span><span class="hl-2">.</span><span class="hl-8">age</span><span class="hl-2"> = </span><span class="hl-8">age</span><span class="hl-2">;</span><br><span class="hl-2">  }</span><br><span class="hl-2">}</span><br><br><span class="hl-11">const</span><span class="hl-2"> </span><span class="hl-14">userTests</span><span class="hl-2"> = </span><span class="hl-9">describe</span><span class="hl-2">(</span><span class="hl-6">"User"</span><span class="hl-2">);</span><br><br><span class="hl-9">it</span><span class="hl-2">(</span><span class="hl-8">userTests</span><span class="hl-2">, </span><span class="hl-6">"users initially empty"</span><span class="hl-2">, () </span><span class="hl-11">=&gt;</span><span class="hl-2"> {</span><br><span class="hl-2">  </span><span class="hl-9">assertEquals</span><span class="hl-2">(</span><span class="hl-8">User</span><span class="hl-2">.</span><span class="hl-8">users</span><span class="hl-2">.</span><span class="hl-8">size</span><span class="hl-2">, </span><span class="hl-13">0</span><span class="hl-2">);</span><br><span class="hl-2">});</span><br><br><span class="hl-9">it</span><span class="hl-2">(</span><span class="hl-8">userTests</span><span class="hl-2">, </span><span class="hl-6">"constructor"</span><span class="hl-2">, () </span><span class="hl-11">=&gt;</span><span class="hl-2"> {</span><br><span class="hl-2">  </span><span class="hl-7">try</span><span class="hl-2"> {</span><br><span class="hl-2">    </span><span class="hl-11">const</span><span class="hl-2"> </span><span class="hl-14">user</span><span class="hl-2"> = </span><span class="hl-11">new</span><span class="hl-2"> </span><span class="hl-9">User</span><span class="hl-2">(</span><span class="hl-6">"Kyle"</span><span class="hl-2">);</span><br><span class="hl-2">    </span><span class="hl-9">assertEquals</span><span class="hl-2">(</span><span class="hl-8">user</span><span class="hl-2">.</span><span class="hl-8">name</span><span class="hl-2">, </span><span class="hl-6">"Kyle"</span><span class="hl-2">);</span><br><span class="hl-2">    </span><span class="hl-9">assertStrictEquals</span><span class="hl-2">(</span><span class="hl-8">User</span><span class="hl-2">.</span><span class="hl-8">users</span><span class="hl-2">.</span><span class="hl-9">get</span><span class="hl-2">(</span><span class="hl-6">"Kyle"</span><span class="hl-2">), </span><span class="hl-8">user</span><span class="hl-2">);</span><br><span class="hl-2">  } </span><span class="hl-7">finally</span><span class="hl-2"> {</span><br><span class="hl-2">    </span><span class="hl-8">User</span><span class="hl-2">.</span><span class="hl-8">users</span><span class="hl-2">.</span><span class="hl-9">clear</span><span class="hl-2">();</span><br><span class="hl-2">  }</span><br><span class="hl-2">});</span><br><br><span class="hl-11">const</span><span class="hl-2"> </span><span class="hl-14">ageTests</span><span class="hl-2"> = </span><span class="hl-9">describe</span><span class="hl-2">({</span><br><span class="hl-2">  </span><span class="hl-8">name:</span><span class="hl-2"> </span><span class="hl-6">"age"</span><span class="hl-2">,</span><br><span class="hl-2">  </span><span class="hl-8">suite:</span><span class="hl-2"> </span><span class="hl-8">userTests</span><span class="hl-2">,</span><br><span class="hl-2">  </span><span class="hl-9">beforeEach</span><span class="hl-2">(</span><span class="hl-11">this</span><span class="hl-2">: { </span><span class="hl-8">user</span><span class="hl-2">: </span><span class="hl-12">User</span><span class="hl-2"> }) {</span><br><span class="hl-2">    </span><span class="hl-11">this</span><span class="hl-2">.</span><span class="hl-8">user</span><span class="hl-2"> = </span><span class="hl-11">new</span><span class="hl-2"> </span><span class="hl-9">User</span><span class="hl-2">(</span><span class="hl-6">"Kyle"</span><span class="hl-2">);</span><br><span class="hl-2">  },</span><br><span class="hl-2">  </span><span class="hl-9">afterEach</span><span class="hl-2">() {</span><br><span class="hl-2">    </span><span class="hl-8">User</span><span class="hl-2">.</span><span class="hl-8">users</span><span class="hl-2">.</span><span class="hl-9">clear</span><span class="hl-2">();</span><br><span class="hl-2">  },</span><br><span class="hl-2">});</span><br><br><span class="hl-9">it</span><span class="hl-2">(</span><span class="hl-8">ageTests</span><span class="hl-2">, </span><span class="hl-6">"getAge"</span><span class="hl-2">, </span><span class="hl-11">function</span><span class="hl-2"> () {</span><br><span class="hl-2">  </span><span class="hl-11">const</span><span class="hl-2"> { </span><span class="hl-14">user</span><span class="hl-2"> } = </span><span class="hl-11">this</span><span class="hl-2">;</span><br><span class="hl-2">  </span><span class="hl-9">assertThrows</span><span class="hl-2">(() </span><span class="hl-11">=&gt;</span><span class="hl-2"> </span><span class="hl-8">user</span><span class="hl-2">.</span><span class="hl-9">getAge</span><span class="hl-2">(), </span><span class="hl-8">Error</span><span class="hl-2">, </span><span class="hl-6">"Age unknown"</span><span class="hl-2">);</span><br><span class="hl-2">  </span><span class="hl-8">user</span><span class="hl-2">.</span><span class="hl-8">age</span><span class="hl-2"> = </span><span class="hl-13">18</span><span class="hl-2">;</span><br><span class="hl-2">  </span><span class="hl-9">assertEquals</span><span class="hl-2">(</span><span class="hl-8">user</span><span class="hl-2">.</span><span class="hl-9">getAge</span><span class="hl-2">(), </span><span class="hl-13">18</span><span class="hl-2">);</span><br><span class="hl-2">});</span><br><br><span class="hl-9">it</span><span class="hl-2">(</span><span class="hl-8">ageTests</span><span class="hl-2">, </span><span class="hl-6">"setAge"</span><span class="hl-2">, </span><span class="hl-11">function</span><span class="hl-2"> () {</span><br><span class="hl-2">  </span><span class="hl-11">const</span><span class="hl-2"> { </span><span class="hl-14">user</span><span class="hl-2"> } = </span><span class="hl-11">this</span><span class="hl-2">;</span><br><span class="hl-2">  </span><span class="hl-8">user</span><span class="hl-2">.</span><span class="hl-9">setAge</span><span class="hl-2">(</span><span class="hl-13">18</span><span class="hl-2">);</span><br><span class="hl-2">  </span><span class="hl-9">assertEquals</span><span class="hl-2">(</span><span class="hl-8">user</span><span class="hl-2">.</span><span class="hl-9">getAge</span><span class="hl-2">(), </span><span class="hl-13">18</span><span class="hl-2">);</span><br><span class="hl-2">});</span>
</code><button type="button">Copy</button></pre>

<a id="md:mixed-test-grouping" class="tsd-anchor"></a><h3 class="tsd-anchor-link">Mixed test grouping<a href="#md:mixed-test-grouping" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><p>Both nested test grouping and flat test grouping can be used together. This can
be useful if you'd like to create deep groupings without all the extra
indentation in front of each line.</p>
<pre><code class="ts"><span class="hl-7">import</span><span class="hl-2"> {</span><br><span class="hl-2">  </span><span class="hl-8">assertEquals</span><span class="hl-2">,</span><br><span class="hl-2">  </span><span class="hl-8">assertStrictEquals</span><span class="hl-2">,</span><br><span class="hl-2">  </span><span class="hl-8">assertThrows</span><span class="hl-2">,</span><br><span class="hl-2">} </span><span class="hl-7">from</span><span class="hl-2"> </span><span class="hl-6">"@std/assert"</span><span class="hl-2">;</span><br><span class="hl-7">import</span><span class="hl-2"> {</span><br><span class="hl-2">  </span><span class="hl-8">describe</span><span class="hl-2">,</span><br><span class="hl-2">  </span><span class="hl-8">it</span><span class="hl-2">,</span><br><span class="hl-2">} </span><span class="hl-7">from</span><span class="hl-2"> </span><span class="hl-6">"@std/testing/bdd"</span><span class="hl-2">;</span><br><br><span class="hl-11">class</span><span class="hl-2"> </span><span class="hl-12">User</span><span class="hl-2"> {</span><br><span class="hl-2">  </span><span class="hl-11">static</span><span class="hl-2"> </span><span class="hl-8">users</span><span class="hl-2">: </span><span class="hl-12">Map</span><span class="hl-2">&lt;</span><span class="hl-12">string</span><span class="hl-2">, </span><span class="hl-12">User</span><span class="hl-2">&gt; = </span><span class="hl-11">new</span><span class="hl-2"> </span><span class="hl-9">Map</span><span class="hl-2">();</span><br><span class="hl-2">  </span><span class="hl-8">name</span><span class="hl-2">: </span><span class="hl-12">string</span><span class="hl-2">;</span><br><span class="hl-2">  </span><span class="hl-8">age</span><span class="hl-2">?: </span><span class="hl-12">number</span><span class="hl-2">;</span><br><br><span class="hl-2">  </span><span class="hl-11">constructor</span><span class="hl-2">(</span><span class="hl-8">name</span><span class="hl-2">: </span><span class="hl-12">string</span><span class="hl-2">) {</span><br><span class="hl-2">    </span><span class="hl-7">if</span><span class="hl-2"> (</span><span class="hl-8">User</span><span class="hl-2">.</span><span class="hl-8">users</span><span class="hl-2">.</span><span class="hl-9">has</span><span class="hl-2">(</span><span class="hl-8">name</span><span class="hl-2">)) {</span><br><span class="hl-2">      </span><span class="hl-7">throw</span><span class="hl-2"> </span><span class="hl-11">new</span><span class="hl-2"> </span><span class="hl-8">Deno</span><span class="hl-2">.</span><span class="hl-8">errors</span><span class="hl-2">.</span><span class="hl-9">AlreadyExists</span><span class="hl-2">(</span><span class="hl-6">`User </span><span class="hl-11">${</span><span class="hl-8">name</span><span class="hl-11">}</span><span class="hl-6"> already exists`</span><span class="hl-2">);</span><br><span class="hl-2">    }</span><br><span class="hl-2">    </span><span class="hl-11">this</span><span class="hl-2">.</span><span class="hl-8">name</span><span class="hl-2"> = </span><span class="hl-8">name</span><span class="hl-2">;</span><br><span class="hl-2">    </span><span class="hl-8">User</span><span class="hl-2">.</span><span class="hl-8">users</span><span class="hl-2">.</span><span class="hl-9">set</span><span class="hl-2">(</span><span class="hl-8">name</span><span class="hl-2">, </span><span class="hl-11">this</span><span class="hl-2">);</span><br><span class="hl-2">  }</span><br><br><span class="hl-2">  </span><span class="hl-9">getAge</span><span class="hl-2">(): </span><span class="hl-12">number</span><span class="hl-2"> {</span><br><span class="hl-2">    </span><span class="hl-7">if</span><span class="hl-2"> (!</span><span class="hl-11">this</span><span class="hl-2">.</span><span class="hl-8">age</span><span class="hl-2">) {</span><br><span class="hl-2">      </span><span class="hl-7">throw</span><span class="hl-2"> </span><span class="hl-11">new</span><span class="hl-2"> </span><span class="hl-9">Error</span><span class="hl-2">(</span><span class="hl-6">"Age unknown"</span><span class="hl-2">);</span><br><span class="hl-2">    }</span><br><span class="hl-2">    </span><span class="hl-7">return</span><span class="hl-2"> </span><span class="hl-11">this</span><span class="hl-2">.</span><span class="hl-8">age</span><span class="hl-2">;</span><br><span class="hl-2">  }</span><br><br><span class="hl-2">  </span><span class="hl-9">setAge</span><span class="hl-2">(</span><span class="hl-8">age</span><span class="hl-2">: </span><span class="hl-12">number</span><span class="hl-2">) {</span><br><span class="hl-2">    </span><span class="hl-11">this</span><span class="hl-2">.</span><span class="hl-8">age</span><span class="hl-2"> = </span><span class="hl-8">age</span><span class="hl-2">;</span><br><span class="hl-2">  }</span><br><span class="hl-2">}</span><br><br><span class="hl-9">describe</span><span class="hl-2">(</span><span class="hl-6">"User"</span><span class="hl-2">, () </span><span class="hl-11">=&gt;</span><span class="hl-2"> {</span><br><span class="hl-2">  </span><span class="hl-9">it</span><span class="hl-2">(</span><span class="hl-6">"users initially empty"</span><span class="hl-2">, () </span><span class="hl-11">=&gt;</span><span class="hl-2"> {</span><br><span class="hl-2">    </span><span class="hl-9">assertEquals</span><span class="hl-2">(</span><span class="hl-8">User</span><span class="hl-2">.</span><span class="hl-8">users</span><span class="hl-2">.</span><span class="hl-8">size</span><span class="hl-2">, </span><span class="hl-13">0</span><span class="hl-2">);</span><br><span class="hl-2">  });</span><br><br><span class="hl-2">  </span><span class="hl-9">it</span><span class="hl-2">(</span><span class="hl-6">"constructor"</span><span class="hl-2">, () </span><span class="hl-11">=&gt;</span><span class="hl-2"> {</span><br><span class="hl-2">    </span><span class="hl-7">try</span><span class="hl-2"> {</span><br><span class="hl-2">      </span><span class="hl-11">const</span><span class="hl-2"> </span><span class="hl-14">user</span><span class="hl-2"> = </span><span class="hl-11">new</span><span class="hl-2"> </span><span class="hl-9">User</span><span class="hl-2">(</span><span class="hl-6">"Kyle"</span><span class="hl-2">);</span><br><span class="hl-2">      </span><span class="hl-9">assertEquals</span><span class="hl-2">(</span><span class="hl-8">user</span><span class="hl-2">.</span><span class="hl-8">name</span><span class="hl-2">, </span><span class="hl-6">"Kyle"</span><span class="hl-2">);</span><br><span class="hl-2">      </span><span class="hl-9">assertStrictEquals</span><span class="hl-2">(</span><span class="hl-8">User</span><span class="hl-2">.</span><span class="hl-8">users</span><span class="hl-2">.</span><span class="hl-9">get</span><span class="hl-2">(</span><span class="hl-6">"Kyle"</span><span class="hl-2">), </span><span class="hl-8">user</span><span class="hl-2">);</span><br><span class="hl-2">    } </span><span class="hl-7">finally</span><span class="hl-2"> {</span><br><span class="hl-2">      </span><span class="hl-8">User</span><span class="hl-2">.</span><span class="hl-8">users</span><span class="hl-2">.</span><span class="hl-9">clear</span><span class="hl-2">();</span><br><span class="hl-2">    }</span><br><span class="hl-2">  });</span><br><br><span class="hl-2">  </span><span class="hl-11">const</span><span class="hl-2"> </span><span class="hl-14">ageTests</span><span class="hl-2"> = </span><span class="hl-9">describe</span><span class="hl-2">({</span><br><span class="hl-2">    </span><span class="hl-8">name:</span><span class="hl-2"> </span><span class="hl-6">"age"</span><span class="hl-2">,</span><br><span class="hl-2">    </span><span class="hl-9">beforeEach</span><span class="hl-2">(</span><span class="hl-11">this</span><span class="hl-2">: { </span><span class="hl-8">user</span><span class="hl-2">: </span><span class="hl-12">User</span><span class="hl-2"> }) {</span><br><span class="hl-2">      </span><span class="hl-11">this</span><span class="hl-2">.</span><span class="hl-8">user</span><span class="hl-2"> = </span><span class="hl-11">new</span><span class="hl-2"> </span><span class="hl-9">User</span><span class="hl-2">(</span><span class="hl-6">"Kyle"</span><span class="hl-2">);</span><br><span class="hl-2">    },</span><br><span class="hl-2">    </span><span class="hl-9">afterEach</span><span class="hl-2">() {</span><br><span class="hl-2">      </span><span class="hl-8">User</span><span class="hl-2">.</span><span class="hl-8">users</span><span class="hl-2">.</span><span class="hl-9">clear</span><span class="hl-2">();</span><br><span class="hl-2">    },</span><br><span class="hl-2">  });</span><br><br><span class="hl-2">  </span><span class="hl-9">it</span><span class="hl-2">(</span><span class="hl-8">ageTests</span><span class="hl-2">, </span><span class="hl-6">"getAge"</span><span class="hl-2">, </span><span class="hl-11">function</span><span class="hl-2"> () {</span><br><span class="hl-2">    </span><span class="hl-11">const</span><span class="hl-2"> { </span><span class="hl-14">user</span><span class="hl-2"> } = </span><span class="hl-11">this</span><span class="hl-2">;</span><br><span class="hl-2">    </span><span class="hl-9">assertThrows</span><span class="hl-2">(() </span><span class="hl-11">=&gt;</span><span class="hl-2"> </span><span class="hl-8">user</span><span class="hl-2">.</span><span class="hl-9">getAge</span><span class="hl-2">(), </span><span class="hl-8">Error</span><span class="hl-2">, </span><span class="hl-6">"Age unknown"</span><span class="hl-2">);</span><br><span class="hl-2">    </span><span class="hl-8">user</span><span class="hl-2">.</span><span class="hl-8">age</span><span class="hl-2"> = </span><span class="hl-13">18</span><span class="hl-2">;</span><br><span class="hl-2">    </span><span class="hl-9">assertEquals</span><span class="hl-2">(</span><span class="hl-8">user</span><span class="hl-2">.</span><span class="hl-9">getAge</span><span class="hl-2">(), </span><span class="hl-13">18</span><span class="hl-2">);</span><br><span class="hl-2">  });</span><br><br><span class="hl-2">  </span><span class="hl-9">it</span><span class="hl-2">(</span><span class="hl-8">ageTests</span><span class="hl-2">, </span><span class="hl-6">"setAge"</span><span class="hl-2">, </span><span class="hl-11">function</span><span class="hl-2"> () {</span><br><span class="hl-2">    </span><span class="hl-11">const</span><span class="hl-2"> { </span><span class="hl-14">user</span><span class="hl-2"> } = </span><span class="hl-11">this</span><span class="hl-2">;</span><br><span class="hl-2">    </span><span class="hl-8">user</span><span class="hl-2">.</span><span class="hl-9">setAge</span><span class="hl-2">(</span><span class="hl-13">18</span><span class="hl-2">);</span><br><span class="hl-2">    </span><span class="hl-9">assertEquals</span><span class="hl-2">(</span><span class="hl-8">user</span><span class="hl-2">.</span><span class="hl-9">getAge</span><span class="hl-2">(), </span><span class="hl-13">18</span><span class="hl-2">);</span><br><span class="hl-2">  });</span><br><span class="hl-2">});</span>
</code><button type="button">Copy</button></pre>

</div><div class="tsd-comment tsd-typography"></div></section><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/denoland/std/blob/5f299ca4f9a33b8bb9d4371452879b56989f3e19/testing/bdd.ts#L1">testing/bdd.ts:1</a></li></ul></aside><section class="tsd-panel-group tsd-index-group"><section class="tsd-panel tsd-index-panel"><details class="tsd-index-content tsd-accordion dmt-index-content">
            <summary class="tsd-accordion-summary tsd-index-summary" data-key="index">
               <h3 class="tsd-index-heading uppercase">
                  <svg width="16" height="16" viewBox="0 0 16 16" fill="none"><use href="#icon-chevronSmall"></use></svg> Index
               </h3>
            </summary>
            <div class="tsd-accordion-details">
            <section class="tsd-index-section"><h3 class="tsd-index-heading">Interfaces</h3><div class="tsd-index-list"><a href="../interfaces/testing_bdd.describe.html" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-256"></use></svg><span>describe</span></a>
<a href="../interfaces/testing_bdd.DescribeDefinition.html" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-256"></use></svg><span>Describe<wbr>Definition</span></a>
<a href="../interfaces/testing_bdd.it.html" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-256"></use></svg><span>it</span></a>
<a href="../interfaces/testing_bdd.ItDefinition.html" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-256"></use></svg><span>It<wbr>Definition</span></a>
<a href="../interfaces/testing_bdd.TestSuite.html" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-256"></use></svg><span>Test<wbr>Suite</span></a>
</div></section><section class="tsd-index-section"><h3 class="tsd-index-heading">Type Aliases</h3><div class="tsd-index-list"><a href="../types/testing_bdd.DescribeArgs.html" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-2097152"></use></svg><span>Describe<wbr>Args</span></a>
<a href="../types/testing_bdd.ItArgs.html" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-2097152"></use></svg><span>It<wbr>Args</span></a>
</div></section><section class="tsd-index-section"><h3 class="tsd-index-heading">Functions</h3><div class="tsd-index-list"><a href="../functions/testing_bdd.after.html" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-64"></use></svg><span>after</span></a>
<a href="../functions/testing_bdd.afterAll.html" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-64"></use></svg><span>after<wbr>All</span></a>
<a href="../functions/testing_bdd.afterEach.html" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-64"></use></svg><span>after<wbr>Each</span></a>
<a href="../functions/testing_bdd.before.html" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-64"></use></svg><span>before</span></a>
<a href="../functions/testing_bdd.beforeAll.html" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-64"></use></svg><span>before<wbr>All</span></a>
<a href="../functions/testing_bdd.beforeEach.html" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-64"></use></svg><span>before<wbr>Each</span></a>
<a href="../functions/testing_bdd.describe-1.html" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-64"></use></svg><span>describe</span></a>
<a href="../functions/testing_bdd.it-1.html" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-64"></use></svg><span>it</span></a>
<a href="../functions/testing_bdd.test.html" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-64"></use></svg><span>test</span></a>
</div></section></div>
         </details></section></section></div><div class="col-sidebar"><div class="page-menu"><div class="tsd-navigation settings"><details class="tsd-accordion"><summary class="tsd-accordion-summary"><h3><svg width="20" height="20" viewBox="0 0 24 24" fill="none"><use href="../assets/icons.svg#icon-chevronDown"></use></svg>Settings</h3></summary><div class="tsd-accordion-details"><div class="tsd-filter-visibility"><span class="settings-label">Member Visibility</span><ul id="tsd-filter-options"><li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-protected" name="protected"><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>Protected</span></label></li><li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-inherited" name="inherited" checked=""><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>Inherited</span></label></li><li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-external" name="external"><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>External</span></label></li></ul></div><div class="tsd-theme-toggle"><label class="settings-label" for="tsd-theme">Theme</label><select id="tsd-theme"><option value="os">OS</option><option value="light">Light</option><option value="dark">Dark</option></select></div></div></details></div><details open="" class="tsd-accordion tsd-page-navigation"><summary class="tsd-accordion-summary"><h3><svg width="20" height="20" viewBox="0 0 24 24" fill="none"><use href="../assets/icons.svg#icon-chevronDown"></use></svg>On This Page</h3></summary><div class="tsd-accordion-details" tabindex="-1"><a href="#md:hooks"><span>Hooks</span></a><a href="#md:focusing-tests"><span>Focusing tests</span></a><a href="#md:ignoring-tests"><span>Ignoring tests</span></a><a href="#md:sanitization-options"><span>Sanitization options</span></a><a href="#md:permissions-option"><span>Permissions option</span></a><a href="#md:comparing-to-denotest"><span>Comparing to <wbr>Deno.test</span></a><ul><li><a href="#md:nested-test-grouping"><span>Nested test grouping</span></a></li><li><a href="#md:flat-test-grouping"><span>Flat test grouping</span></a></li><li><a href="#md:mixed-test-grouping"><span>Mixed test grouping</span></a></li></ul></div></details></div><div class="site-menu"><nav class="tsd-navigation"><a href="../modules.html"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-1"></use></svg><span>Documentation</span></a><ul class="tsd-small-nested-navigation" id="tsd-nav-container" data-base=".."></ul></nav></div></div></div><footer><p class="tsd-generator">Generated using <a href="https://typedoc.org/" target="_blank">TypeDoc</a> with the <a href="https://www.npmjs.com/package/@typhonjs-typedoc/typedoc-theme-dmt" target="_blank">Default Modern Theme</a></p></footer></main></body></html>