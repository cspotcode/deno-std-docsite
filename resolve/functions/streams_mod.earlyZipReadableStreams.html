<!DOCTYPE html><html class="default" lang="en"><head><style>body { visibility: hidden; }</style><meta charset="utf-8"><meta http-equiv="x-ua-compatible" content="IE=edge"><title>earlyZipReadableStreams | Documentation</title><meta name="description" content="Documentation for Documentation"><meta name="viewport" content="width=device-width, initial-scale=1"><link rel="stylesheet" href="../assets/style.css"><link rel="stylesheet" href="../assets/highlight.css"><script defer="" src="../assets/main.js"></script><script async="" src="../assets/icons.js" id="tsd-icons-script"></script><link rel="stylesheet" href="../assets/dmt/dmt-components.css"><link rel="stylesheet" href="../assets/dmt/dmt-theme.css"><script src="../assets/dmt/dmt-components.js" type="module"></script><noscript><style>body { visibility: visible; }</style></noscript></head><body><script>document.documentElement.dataset.theme = localStorage.getItem("tsd-theme") || "os";</script><div class="overlay"></div>
<main><header class="tsd-page-toolbar"><div class="tsd-toolbar-contents container"><div class="table-cell" id="tsd-search" data-base=".."><div class="field" id="dmt-search-main"></div><div class="field" id="dmt-toolbar"><a href="../index.html" class="title">Documentation</a></div></div><div class="table-cell" id="tsd-widgets"><a href="#" class="tsd-widget tsd-toolbar-icon menu no-caption" data-toggle="menu" aria-label="Menu"><svg width="16" height="16" viewBox="0 0 16 16" fill="none"><use href="../assets/icons.svg#icon-menu"></use></svg></a></div></div></header><div class="container container-main" tabindex="-1"><div class="col-content"><div class="tsd-page-title"><ul class="tsd-breadcrumb"><li><a href="../modules/streams_mod.html">streams/mod</a></li><li><a href="streams_mod.earlyZipReadableStreams.html">earlyZipReadableStreams</a></li></ul><div class="dmt-title-header-flex"><h1>Function earlyZipReadableStreams</h1></div></div><section class="tsd-panel"><ul class="tsd-signatures"><li class="tsd-signature tsd-anchor-link"><a id="earlyZipReadableStreams" class="tsd-anchor"></a><span class="tsd-kind-call-signature">early<wbr>Zip<wbr>Readable<wbr>Streams</span><span class="tsd-signature-symbol">&lt;</span><a class="tsd-signature-type tsd-kind-type-parameter" href="streams_mod.earlyZipReadableStreams.html#earlyZipReadableStreams.T">T</a><span class="tsd-signature-symbol">&gt;</span><span class="tsd-signature-symbol">(</span><span class="tsd-signature-symbol">...</span><span class="tsd-kind-parameter">streams</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">ReadableStream</span><span class="tsd-signature-symbol">&lt;</span><a class="tsd-signature-type tsd-kind-type-parameter" href="streams_mod.earlyZipReadableStreams.html#earlyZipReadableStreams.T">T</a><span class="tsd-signature-symbol">&gt;</span><a href="#earlyZipReadableStreams" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></li><li class="tsd-description"><div class="tsd-comment tsd-typography"><p>Merge multiple streams into a single one, taking order into account, and each
stream will wait for a chunk to enqueue before the next stream can append
another chunk.</p>
<p>If a stream ends before other ones, the others will be cancelled after the
last chunk of said stream is read. See the examples below for more
comprehensible information. If you want to continue reading the other streams
even after one of them ends, use <a href="streams_mod.zipReadableStreams.html" class="tsd-kind-function"><code>zipReadableStreams</code></a>.</p>
</div><section class="tsd-panel"><h4>Type Parameters</h4><ul class="tsd-type-parameter-list"><li><span><a id="earlyZipReadableStreams.T" class="tsd-anchor"></a><span class="tsd-kind-type-parameter">T</span></span></li></ul></section><div class="tsd-parameters"><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameter-list"><li><span><code class="tsd-tag">Rest</code><span class="tsd-signature-symbol">...</span><span class="tsd-kind-parameter">streams</span>: <span class="tsd-signature-type">ReadableStream</span><span class="tsd-signature-symbol">&lt;</span><a class="tsd-signature-type tsd-kind-type-parameter" href="streams_mod.earlyZipReadableStreams.html#earlyZipReadableStreams.T">T</a><span class="tsd-signature-symbol">&gt;</span><span class="tsd-signature-symbol">[]</span></span><div class="tsd-comment tsd-typography"><p>An iterable of <code>ReadableStream</code>s to merge.</p>
</div><div class="tsd-comment tsd-typography"></div></li></ul></div><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">ReadableStream</span><span class="tsd-signature-symbol">&lt;</span><a class="tsd-signature-type tsd-kind-type-parameter" href="streams_mod.earlyZipReadableStreams.html#earlyZipReadableStreams.T">T</a><span class="tsd-signature-symbol">&gt;</span></h4><p>A <code>ReadableStream</code> that will emit the zipped chunks</p>
<div class="tsd-comment tsd-typography"><div class="tsd-tag-Typeparam"><h4 class="tsd-anchor-link"><a id="Typeparam" class="tsd-anchor"></a>Typeparam<a href="#Typeparam" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h4><p>T The type of the chunks in the input streams.</p>
</div><div class="tsd-tag-Example: Zip 2 streams with the same length"><h4 class="tsd-anchor-link"><a id="Example: Zip 2 streams with the same length" class="tsd-anchor"></a>Example: Zip 2 streams with the same length<a href="#Example: Zip 2 streams with the same length" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h4><pre><code class="ts"><span class="hl-7">import</span><span class="hl-2"> { </span><span class="hl-8">earlyZipReadableStreams</span><span class="hl-2"> } </span><span class="hl-7">from</span><span class="hl-2"> </span><span class="hl-6">"@std/streams/early-zip-readable-streams"</span><span class="hl-2">;</span><br><span class="hl-7">import</span><span class="hl-2"> { </span><span class="hl-8">assertEquals</span><span class="hl-2"> } </span><span class="hl-7">from</span><span class="hl-2"> </span><span class="hl-6">"@std/assert"</span><span class="hl-2">;</span><br><br><span class="hl-11">const</span><span class="hl-2"> </span><span class="hl-14">stream1</span><span class="hl-2"> = </span><span class="hl-8">ReadableStream</span><span class="hl-2">.</span><span class="hl-9">from</span><span class="hl-2">([</span><span class="hl-6">"1"</span><span class="hl-2">, </span><span class="hl-6">"2"</span><span class="hl-2">, </span><span class="hl-6">"3"</span><span class="hl-2">]);</span><br><span class="hl-11">const</span><span class="hl-2"> </span><span class="hl-14">stream2</span><span class="hl-2"> = </span><span class="hl-8">ReadableStream</span><span class="hl-2">.</span><span class="hl-9">from</span><span class="hl-2">([</span><span class="hl-6">"a"</span><span class="hl-2">, </span><span class="hl-6">"b"</span><span class="hl-2">, </span><span class="hl-6">"c"</span><span class="hl-2">]);</span><br><span class="hl-11">const</span><span class="hl-2"> </span><span class="hl-14">zippedStream</span><span class="hl-2"> = </span><span class="hl-9">earlyZipReadableStreams</span><span class="hl-2">(</span><span class="hl-8">stream1</span><span class="hl-2">, </span><span class="hl-8">stream2</span><span class="hl-2">);</span><br><br><span class="hl-9">assertEquals</span><span class="hl-2">(</span><br><span class="hl-2">  </span><span class="hl-7">await</span><span class="hl-2"> </span><span class="hl-8">Array</span><span class="hl-2">.</span><span class="hl-9">fromAsync</span><span class="hl-2">(</span><span class="hl-8">zippedStream</span><span class="hl-2">),</span><br><span class="hl-2">  [</span><span class="hl-6">"1"</span><span class="hl-2">, </span><span class="hl-6">"a"</span><span class="hl-2">, </span><span class="hl-6">"2"</span><span class="hl-2">, </span><span class="hl-6">"b"</span><span class="hl-2">, </span><span class="hl-6">"3"</span><span class="hl-2">, </span><span class="hl-6">"c"</span><span class="hl-2">],</span><br><span class="hl-2">);</span>
</code><button type="button">Copy</button></pre>

</div><div class="tsd-tag-Example: Zip 2 streams with different length (first one is shorter)"><h4 class="tsd-anchor-link"><a id="Example: Zip 2 streams with different length (first one is shorter)" class="tsd-anchor"></a>Example: Zip 2 streams with different length (first one is shorter)<a href="#Example: Zip 2 streams with different length (first one is shorter)" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h4><pre><code class="ts"><span class="hl-7">import</span><span class="hl-2"> { </span><span class="hl-8">earlyZipReadableStreams</span><span class="hl-2"> } </span><span class="hl-7">from</span><span class="hl-2"> </span><span class="hl-6">"@std/streams/early-zip-readable-streams"</span><span class="hl-2">;</span><br><span class="hl-7">import</span><span class="hl-2"> { </span><span class="hl-8">assertEquals</span><span class="hl-2"> } </span><span class="hl-7">from</span><span class="hl-2"> </span><span class="hl-6">"@std/assert"</span><span class="hl-2">;</span><br><br><span class="hl-11">const</span><span class="hl-2"> </span><span class="hl-14">stream1</span><span class="hl-2"> = </span><span class="hl-8">ReadableStream</span><span class="hl-2">.</span><span class="hl-9">from</span><span class="hl-2">([</span><span class="hl-6">"1"</span><span class="hl-2">, </span><span class="hl-6">"2"</span><span class="hl-2">]);</span><br><span class="hl-11">const</span><span class="hl-2"> </span><span class="hl-14">stream2</span><span class="hl-2"> = </span><span class="hl-8">ReadableStream</span><span class="hl-2">.</span><span class="hl-9">from</span><span class="hl-2">([</span><span class="hl-6">"a"</span><span class="hl-2">, </span><span class="hl-6">"b"</span><span class="hl-2">, </span><span class="hl-6">"c"</span><span class="hl-2">, </span><span class="hl-6">"d"</span><span class="hl-2">]);</span><br><span class="hl-11">const</span><span class="hl-2"> </span><span class="hl-14">zippedStream</span><span class="hl-2"> = </span><span class="hl-9">earlyZipReadableStreams</span><span class="hl-2">(</span><span class="hl-8">stream1</span><span class="hl-2">, </span><span class="hl-8">stream2</span><span class="hl-2">);</span><br><br><span class="hl-10">// The first stream ends before the second one. When the first stream ends,</span><br><span class="hl-10">// the second one is cancelled and no more data is read or added to the</span><br><span class="hl-10">// zipped stream.</span><br><span class="hl-9">assertEquals</span><span class="hl-2">(</span><br><span class="hl-2">  </span><span class="hl-7">await</span><span class="hl-2"> </span><span class="hl-8">Array</span><span class="hl-2">.</span><span class="hl-9">fromAsync</span><span class="hl-2">(</span><span class="hl-8">zippedStream</span><span class="hl-2">),</span><br><span class="hl-2">  [</span><span class="hl-6">"1"</span><span class="hl-2">, </span><span class="hl-6">"a"</span><span class="hl-2">, </span><span class="hl-6">"2"</span><span class="hl-2">, </span><span class="hl-6">"b"</span><span class="hl-2">],</span><br><span class="hl-2">);</span>
</code><button type="button">Copy</button></pre>

</div><div class="tsd-tag-Example: Zip 2 streams with different length (first one is longer)"><h4 class="tsd-anchor-link"><a id="Example: Zip 2 streams with different length (first one is longer)" class="tsd-anchor"></a>Example: Zip 2 streams with different length (first one is longer)<a href="#Example: Zip 2 streams with different length (first one is longer)" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h4><pre><code class="ts"><span class="hl-7">import</span><span class="hl-2"> { </span><span class="hl-8">earlyZipReadableStreams</span><span class="hl-2"> } </span><span class="hl-7">from</span><span class="hl-2"> </span><span class="hl-6">"@std/streams/early-zip-readable-streams"</span><span class="hl-2">;</span><br><span class="hl-7">import</span><span class="hl-2"> { </span><span class="hl-8">assertEquals</span><span class="hl-2"> } </span><span class="hl-7">from</span><span class="hl-2"> </span><span class="hl-6">"@std/assert"</span><span class="hl-2">;</span><br><br><span class="hl-11">const</span><span class="hl-2"> </span><span class="hl-14">stream1</span><span class="hl-2"> = </span><span class="hl-8">ReadableStream</span><span class="hl-2">.</span><span class="hl-9">from</span><span class="hl-2">([</span><span class="hl-6">"1"</span><span class="hl-2">, </span><span class="hl-6">"2"</span><span class="hl-2">, </span><span class="hl-6">"3"</span><span class="hl-2">, </span><span class="hl-6">"4"</span><span class="hl-2">]);</span><br><span class="hl-11">const</span><span class="hl-2"> </span><span class="hl-14">stream2</span><span class="hl-2"> = </span><span class="hl-8">ReadableStream</span><span class="hl-2">.</span><span class="hl-9">from</span><span class="hl-2">([</span><span class="hl-6">"a"</span><span class="hl-2">, </span><span class="hl-6">"b"</span><span class="hl-2">]);</span><br><span class="hl-11">const</span><span class="hl-2"> </span><span class="hl-14">zippedStream</span><span class="hl-2"> = </span><span class="hl-9">earlyZipReadableStreams</span><span class="hl-2">(</span><span class="hl-8">stream1</span><span class="hl-2">, </span><span class="hl-8">stream2</span><span class="hl-2">);</span><br><br><span class="hl-10">// The second stream ends before the first one. When the second stream ends,</span><br><span class="hl-10">// the first one is cancelled, but the chunk of "3" is already read so it</span><br><span class="hl-10">// is added to the zipped stream.</span><br><span class="hl-9">assertEquals</span><span class="hl-2">(</span><br><span class="hl-2">  </span><span class="hl-7">await</span><span class="hl-2"> </span><span class="hl-8">Array</span><span class="hl-2">.</span><span class="hl-9">fromAsync</span><span class="hl-2">(</span><span class="hl-8">zippedStream</span><span class="hl-2">),</span><br><span class="hl-2">  [</span><span class="hl-6">"1"</span><span class="hl-2">, </span><span class="hl-6">"a"</span><span class="hl-2">, </span><span class="hl-6">"2"</span><span class="hl-2">, </span><span class="hl-6">"b"</span><span class="hl-2">, </span><span class="hl-6">"3"</span><span class="hl-2">],</span><br><span class="hl-2">);</span>
</code><button type="button">Copy</button></pre>

</div><div class="tsd-tag-Example: Zip 3 streams"><h4 class="tsd-anchor-link"><a id="Example: Zip 3 streams" class="tsd-anchor"></a>Example: Zip 3 streams<a href="#Example: Zip 3 streams" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h4><pre><code class="ts"><span class="hl-7">import</span><span class="hl-2"> { </span><span class="hl-8">earlyZipReadableStreams</span><span class="hl-2"> } </span><span class="hl-7">from</span><span class="hl-2"> </span><span class="hl-6">"@std/streams/early-zip-readable-streams"</span><span class="hl-2">;</span><br><span class="hl-7">import</span><span class="hl-2"> { </span><span class="hl-8">assertEquals</span><span class="hl-2"> } </span><span class="hl-7">from</span><span class="hl-2"> </span><span class="hl-6">"@std/assert"</span><span class="hl-2">;</span><br><br><span class="hl-11">const</span><span class="hl-2"> </span><span class="hl-14">stream1</span><span class="hl-2"> = </span><span class="hl-8">ReadableStream</span><span class="hl-2">.</span><span class="hl-9">from</span><span class="hl-2">([</span><span class="hl-6">"1"</span><span class="hl-2">]);</span><br><span class="hl-11">const</span><span class="hl-2"> </span><span class="hl-14">stream2</span><span class="hl-2"> = </span><span class="hl-8">ReadableStream</span><span class="hl-2">.</span><span class="hl-9">from</span><span class="hl-2">([</span><span class="hl-6">"a"</span><span class="hl-2">, </span><span class="hl-6">"b"</span><span class="hl-2">]);</span><br><span class="hl-11">const</span><span class="hl-2"> </span><span class="hl-14">stream3</span><span class="hl-2"> = </span><span class="hl-8">ReadableStream</span><span class="hl-2">.</span><span class="hl-9">from</span><span class="hl-2">([</span><span class="hl-6">"A"</span><span class="hl-2">, </span><span class="hl-6">"B"</span><span class="hl-2">, </span><span class="hl-6">"C"</span><span class="hl-2">]);</span><br><span class="hl-11">const</span><span class="hl-2"> </span><span class="hl-14">zippedStream</span><span class="hl-2"> = </span><span class="hl-9">earlyZipReadableStreams</span><span class="hl-2">(</span><span class="hl-8">stream1</span><span class="hl-2">, </span><span class="hl-8">stream2</span><span class="hl-2">, </span><span class="hl-8">stream3</span><span class="hl-2">);</span><br><br><span class="hl-9">assertEquals</span><span class="hl-2">(</span><br><span class="hl-2">  </span><span class="hl-7">await</span><span class="hl-2"> </span><span class="hl-8">Array</span><span class="hl-2">.</span><span class="hl-9">fromAsync</span><span class="hl-2">(</span><span class="hl-8">zippedStream</span><span class="hl-2">),</span><br><span class="hl-2">  [</span><span class="hl-6">"1"</span><span class="hl-2">, </span><span class="hl-6">"a"</span><span class="hl-2">, </span><span class="hl-6">"A"</span><span class="hl-2">],</span><br><span class="hl-2">);</span>
</code><button type="button">Copy</button></pre>

</div></div><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/denoland/std/blob/5f299ca4f9a33b8bb9d4371452879b56989f3e19/streams/early_zip_readable_streams.ts#L85">streams/early_zip_readable_streams.ts:85</a></li></ul></aside></li></ul></section></div><div class="col-sidebar"><div class="page-menu"><div class="tsd-navigation settings"><details class="tsd-accordion"><summary class="tsd-accordion-summary"><h3><svg width="20" height="20" viewBox="0 0 24 24" fill="none"><use href="../assets/icons.svg#icon-chevronDown"></use></svg>Settings</h3></summary><div class="tsd-accordion-details"><div class="tsd-filter-visibility"><span class="settings-label">Member Visibility</span><ul id="tsd-filter-options"><li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-protected" name="protected"><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>Protected</span></label></li><li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-inherited" name="inherited" checked=""><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>Inherited</span></label></li><li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-external" name="external"><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>External</span></label></li></ul></div><div class="tsd-theme-toggle"><label class="settings-label" for="tsd-theme">Theme</label><select id="tsd-theme"><option value="os">OS</option><option value="light">Light</option><option value="dark">Dark</option></select></div></div></details></div></div><div class="site-menu"><nav class="tsd-navigation"><a href="../modules.html"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-1"></use></svg><span>Documentation</span></a><ul class="tsd-small-nested-navigation" id="tsd-nav-container" data-base=".."></ul></nav></div></div></div><footer><p class="tsd-generator">Generated using <a href="https://typedoc.org/" target="_blank">TypeDoc</a> with the <a href="https://www.npmjs.com/package/@typhonjs-typedoc/typedoc-theme-dmt" target="_blank">Default Modern Theme</a></p></footer></main></body></html>